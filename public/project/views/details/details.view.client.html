<div class="container-fluid">
    <div class="page">
        <div class="content">
            <h1>
                <a href="#/search/{{model.title}}">
            <span class="glyphicon glyphicon-chevron-left">
            </span>
                </a>
                {{model.movie.Title}}
            </h1>
            <hr class="colorgraph">
            <div class="row">
                <div class="col-md-6">
                    <figure class="movie-poster">
                        <img src="{{model.movie.Poster}}" onerror="this.src='http://shop55.org/wp-content/uploads/2014/02/no-image.jpeg'" height="300px">
                    </figure>
                </div>
                <div class="col-md-6">
                    <h2 class="movie-title">{{movie.Title}}</h2>
                    <div class="movie-summary">
                        <p>{{model.movie.Plot}}</p>
                    </div>
                    <ul class="movie-meta">
                        <li><strong>Rating:</strong>
                            <div class="star-rating" title="Rated {{model.movie.imdbRating}} out of 5">
                                <span style="width:80%"><strong class="rating">{{model.movie.imdbRating}}</strong> out of 5</span></div>
                        </li>
                        <li><strong>Length:</strong> {{model.movie.Runtime}}</li>
                        <li><strong>Premiere:</strong> {{model.movie.Released}}</li>
                        <li><strong>Category:</strong> {{model.movie.Genre}}</li>
                    </ul>

                    <ul class="starring">
                        <li><strong>Directors:</strong> {{model.movie.Director}}</li>
                        <li><strong>Writers:</strong> {{model.movie.Writer}}</li>
                        <li><strong>Stars:</strong>    <ul>
                            <li ng-repeat="actor in model.Actors">
                                {{actor}}
                            </li>
                        </ul></li>
                    </ul>
                </div>
            </div> <!-- .row -->
            <div class="entry-content">

            </div>
        </div>
    </div>
    <hr class="colorgraph">

    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <div class="container">
        <div class="row">
            <h3>Write a review</h3>
            <div ng-if="currentUser.role === 'critic'">
            <label for="name">Title</label>
            <input type="text"
                   id="name"
                   class="form-control"
                   placeholder="Enter review title"
                   ng-model="model.review.title"
                   value=""/>
            <label for="description">Description</label>
            <input type="text"
                   id="description"
                   class="form-control"
                   placeholder="Enter review description"
                   value=""
                   ng-model="model.review.description"/>
            <button ng-click="model.addReview(model.review)" type="submit" name="say" value="" class="btn btn-primary"><i class="fa fa-reply"></i> Submit</button>
        </div>
            <div ng-hide="currentUser">
                <p class="text-danger">You need to login as a critic to post reviews</p>
            </div>
            <h3>Past Reviews </h3>


            <div ng-hide="model.reviews.length > 0 ">
                <p class="text-danger">Nothing here</p>
            </div>

            <h3 ng-repeat="review in model.reviews">
                <i class="fa fa-comment">
                    <a href="#/user/{{review._user}}/reviews/">
                    {{review.username}} said on {{review.timestamp | date:"MM/dd/yyyy 'at' h:mma"}}:
                    </a>
                </i>
                <small>{{review.title}}</small>
                <p>{{review.description}}</p>
                <div ng-if="currentUser._id === review._user">

                    <label for="name">Title</label>
                    <input type="text"
                           id="name"
                           class="form-control"
                           placeholder="Enter review title"
                           ng-model="review.title"
                           value=""/>
                    <label for="description">Description</label>
                    <input type="text"
                           id="description"
                           class="form-control"
                           placeholder="Enter review description"
                           value=""
                           ng-model="review.description"/>
                    <button ng-click="model.deleteReview($index)" type="delete" name="say" value="" class="btn btn-danger"><i class="fa"></i> Delete Post</button>
                    <button ng-click="model.updateReview(review)" type="update" name="say" value="" class="btn btn-default"><i class="fa"></i> Update Post</button>

                </div>

            </h3>
        </div>
    </div>
</div>
